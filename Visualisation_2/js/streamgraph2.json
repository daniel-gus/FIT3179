{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": {
      "text": "Employed Population by Marital Status",
      "offset": 15,
      "align": "center",
      "fontSize": 15
    },
    "width": 300, "height": 200,
    "data": {"url": "https://raw.githubusercontent.com/daniel-gus/FIT3179/master/Visualisation_2/Datasets/Employed_persons_by_marital_status_and_state_Malaysia.csv"},
    "params":[
      {
          "name": "state_selection",
          "value": "MALAYSIA",
          "bind":{
              "input": "select",
              "options":[
                  "MALAYSIA",
                  "JOHOR",
                  "KEDAH",
                  "KELANTAN",
                  "MELAKA",
                  "N.SEMBILAN",
                  "PAHANG",
                  "P.PINANG",
                  "PERAK",
                  "PERLIS",
                  "SELANGOR",
                  "TERENGGANU",
                  "SABAH",
                  "SARAWAK",
                  "W.P.KUALA LUMPUR",
                  "W.P.LABUAN",
                  "W.P.PUTRAJAYA"
              ],
              "labels":[
                  "MALAYSIA",
                  "JOHOR",
                  "KEDAH",
                  "KELANTAN",
                  "MELAKA",
                  "N.SEMBILAN",
                  "PAHANG",
                  "P.PINANG",
                  "PERAK",
                  "PERLIS",
                  "SELANGOR",
                  "TERENGGANU",
                  "SABAH",
                  "SARAWAK",
                  "W.P.KUALA LUMPUR",
                  "W.P.LABUAN",
                  "W.P.PUTRAJAYA"
              ],
              "name": "State Selection: "
          }
      }
  ],
    
    "transform": [
        {"filter": "datum.State == state_selection"},
        {"filter": "datum.MaritalStatus != 'Total'"}
    ],
    "mark": "area",
    "encoding": {
      "x": {
        "timeUnit": "year", "field": "Year",
        "axis": {"domain": false, "format": "%Y", "tickSize": 0}
      },
      "y": {
        "aggregate": "sum", "field": "Person",
        "axis": null,
        "stack": "center"
      },
      "color": {
          "field":"MaritalStatus", 
          "type": "nominal",
          "scale":{
            "domain": [
              "Never married",
              "Married",
              "Widowed",
              "Divorced/permanently separated"
            ],
            "range": [
              "#e41a1c",
              "#984ea3",
              "#ff7f00",
              "#a6cee3",
              "#377eb8",
              "#a65628"
            ]
          }  
      },
      "tooltip": [
        {
            "field": "Year",
            "timeUnit": "year",
            "title": "Year",
            "type": "ordinal"
        },
        {
            "field": "State",
            "title": "State",
            "type": "nominal"
        },
        {
            "field": "Person",
            "title": "Number of Employed ('000)"

        }
    ]
    }
  }
  